{% extends 'base.html' %}

{% block content %}
<div class="animate-slide-up max-w-4xl mx-auto">
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-bold text-surface-50 tracking-tight">Edit Resume</h1>
      <p class="text-surface-400 text-sm mt-1">Update any section and save your changes</p>
    </div>
    <a href="{% url 'view-resume' resume.pk %}" class="btn-ghost text-sm">
      <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
      </svg>
      Cancel
    </a>
  </div>

  <form method="POST" class="space-y-6">
    {% csrf_token %}

    <!-- Personal Info Card -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-brand-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
        </svg>
        Personal Information
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="label" for="full_name">Full Name</label>
          <input type="text" id="full_name" name="full_name" value="{{ resume.full_name }}" required>
        </div>
        <div>
          <label class="label" for="email">Email</label>
          <input type="email" id="email" name="email" value="{{ resume.email }}" required>
        </div>
        <div>
          <label class="label" for="phone_number">Phone Number</label>
          <input type="text" id="phone_number" name="phone_number" value="{{ resume.phone_number }}">
        </div>
        <div>
          <label class="label" for="location">Location</label>
          <input type="text" id="location" name="location" value="{{ resume.location }}">
        </div>
      </div>
    </div>

    <!-- Professional Summary -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
        </svg>
        Professional Summary
      </h2>
      <textarea name="summary" rows="3" placeholder="A brief professional summary highlighting your key qualifications...">{{ resume.summary }}</textarea>
    </div>

    <!-- Skills -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-emerald-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z" />
        </svg>
        Skills
      </h2>
      <textarea name="skills" rows="4" placeholder="e.g., Languages: Python, Java | Frameworks: Django, React | Tools: Docker, Git">{{ resume.skills }}</textarea>
    </div>

    <!-- Education -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-blue-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5" />
        </svg>
        Education
      </h2>
      <textarea name="education" rows="4" placeholder="Degree, Institution, Dates...">{{ resume.education }}</textarea>
    </div>

    <!-- Experience -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-amber-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0" />
        </svg>
        Experience
      </h2>
      <textarea name="experience" rows="6" placeholder="Job Title, Company, Duration, Key responsibilities and achievements...">{{ resume.experience }}</textarea>
    </div>

    <!-- Projects -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5" />
        </svg>
        Projects
      </h2>
      <textarea name="projects" rows="6" placeholder="Project Name, Tech Stack, Description, Impact...">{{ resume.projects }}</textarea>
    </div>

    <!-- Achievements -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M18.75 4.236c.982.143 1.954.317 2.916.52A6.003 6.003 0 0 1 16.27 9.728M18.75 4.236V4.5c0 2.108-.966 3.99-2.48 5.228m0 0a6.003 6.003 0 0 1-2.27.885c-.727.134-1.476.205-2.27.205" />
        </svg>
        Achievements
      </h2>
      <textarea name="achievements" rows="4" placeholder="Awards, certifications, notable accomplishments...">{{ resume.achievements }}</textarea>
    </div>

    <!-- Template Selection -->
    <div class="card p-6">
      <h2 class="section-title mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-pink-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42" />
        </svg>
        Resume Template
      </h2>
      <div class="grid grid-cols-3 gap-4">
        <label class="cursor-pointer">
          <input type="radio" name="template_used" value="1" {% if resume.template_used == 1 %}checked{% endif %} class="peer hidden">
          <div class="card p-4 text-center peer-checked:border-brand-500 peer-checked:bg-brand-500/10 transition-all">
            <div class="w-full h-20 bg-slate-700 rounded mb-2 flex overflow-hidden">
              <div class="w-1/3 bg-slate-800"></div>
              <div class="w-2/3 bg-slate-100 p-2 space-y-1">
                <div class="h-1.5 bg-slate-300 rounded w-3/4"></div>
                <div class="h-1 bg-slate-200 rounded w-full"></div>
                <div class="h-1 bg-slate-200 rounded w-5/6"></div>
              </div>
            </div>
            <span class="text-sm font-medium text-surface-300">Professional</span>
          </div>
        </label>
        <label class="cursor-pointer">
          <input type="radio" name="template_used" value="2" {% if resume.template_used == 2 %}checked{% endif %} class="peer hidden">
          <div class="card p-4 text-center peer-checked:border-brand-500 peer-checked:bg-brand-500/10 transition-all">
            <div class="w-full h-20 bg-slate-100 rounded mb-2 overflow-hidden">
              <div class="h-5 bg-gradient-to-r from-indigo-500 to-blue-400"></div>
              <div class="p-2 space-y-1">
                <div class="h-1 bg-slate-200 rounded w-full"></div>
                <div class="h-1 bg-slate-200 rounded w-5/6"></div>
                <div class="h-1 bg-slate-200 rounded w-3/4"></div>
              </div>
            </div>
            <span class="text-sm font-medium text-surface-300">Creative</span>
          </div>
        </label>
        <label class="cursor-pointer">
          <input type="radio" name="template_used" value="3" {% if resume.template_used == 3 %}checked{% endif %} class="peer hidden">
          <div class="card p-4 text-center peer-checked:border-brand-500 peer-checked:bg-brand-500/10 transition-all">
            <div class="w-full h-20 bg-white rounded mb-2 border border-slate-200 p-2 space-y-1.5">
              <div class="h-2 bg-slate-800 rounded w-2/3"></div>
              <div class="h-px bg-slate-800"></div>
              <div class="h-1 bg-slate-200 rounded w-full"></div>
              <div class="h-1 bg-slate-200 rounded w-5/6"></div>
            </div>
            <span class="text-sm font-medium text-surface-300">Minimalist</span>
          </div>
        </label>
      </div>
    </div>

    <!-- Save Actions -->
    <div class="flex items-center justify-end gap-3 pb-8">
      <a href="{% url 'view-resume' resume.pk %}" class="btn-secondary text-sm">Cancel</a>
      <button type="submit" class="btn-primary text-sm">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
        </svg>
        Save Changes
      </button>
    </div>
  </form>
</div>
{% endblock %}
